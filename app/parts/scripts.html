<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="libs/slick/slick.min.js"></script>
<script src="js/app.min.js"></script>

<script>
	/** (Start) Quiz Slick **/
	$('.quiz-slick').slick({
		swipe: false,
		fade: true,
		dots: false,
		infinite: false,
		speed: 300,
		slidesToShow: 1,
		adaptiveHeight: true,
		appendArrows: '.quiz-slick-buttons',
		prevArrow: '<button class="btn btn-outline btn-quiz" type="button" class="slick-prev">Назад</button>',
		nextArrow: '<button class="btn btn-primary btn-quiz" type="button" class="slick-next">Далее</button>',
	});

	$(document).ready(function () {
		var totalSlides = $('.quiz-slick').slick('getSlick').slideCount;

		for (var i = 0; i < totalSlides; i++) {
			var listItem = $('<li>').addClass(i === 0 ? 'active' : '');
			var currentStep = $('<span>').addClass('quiz-header-current').text('Шаг');
			var totalSteps = $('<span>').addClass('quiz-header-total').text('из ').append($('<span>'));

			listItem.append(currentStep, totalSteps);
			$('.quiz-header').append(listItem);
		}

		$('.quiz-header-total span').text(totalSlides);
	});

	$('.quiz-slick').on('init', function (event, slick) {
		const activeSlideIndex = slick.currentSlide;
		$('.quiz-header li').eq(activeSlideIndex).addClass('active');
	});

	$('.quiz-slick').on('afterChange', function (event, slick, currentSlide) {
		$('.quiz-header li').removeClass('active accent');
		$('.quiz-header li').eq(currentSlide).addClass('active');
		$('.quiz-header li').eq(currentSlide).prevAll().addClass('accent');
	});
	/** (End) Quiz Slick **/
</script>

</body>

</html>